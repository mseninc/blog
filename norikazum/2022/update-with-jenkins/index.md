---
title: Jenkins を利用して Linux のアップデート作業を簡単にする
date: 
author: norikazum
tags: [RHEL,Linux,jenkins]
description: 
---

こんにちは。

今回の記事は、CI システムの **Jenkins を使って Linux サーバーのアップデート作業を簡単にする** です。

**毎日のように脆弱性が通知** され、 **その都度 保守対象のサーバーをアップデートする** ことが多くなっています。

当然ながら、 **脆弱性対応は急ぎ** の対応が多く、弊社でも漏れがないように **スプレッドシートなどで管理するのですがやはり煩雑かつ非効率** です。

「またかー」という心の声が聞こえます。

お客様のシステムにより自動でアップデートすることは難しいことも珍しないので、今回のアプローチは **Jenkins から 少ない操作でアップデートを実施する** ことを目的とします。

また、 **Jenkinsを利用すれば一度ジョブを設定すれば誰でも実行** できるメリットもあるのではと考えます。

Jenkins の構築は 過去記事を参考にしてください。

**過去記事を入れる**

## 評価環境
- Jenkins 2.319.2
- Red Hat Enterprise Linux release 8.5 (アップデート対象)

## 処理イメージ
今回の評価では、以下 3パターンのアップデートを想定します。
1. 全体アップデート ( `dnf -y upgrade` )
1. 指定したパッケージのアップデート ( `dnf -y upgrade openssl` )
1. RHSA (Red Hat Security Advisory) 単位のアップデート ( `dnf -y dnf upgrade --advisory=RHSA-2022:0267P` )

これらをJenkinsの環境変数で指定し、それに対応した実行を実施をする設定にします。

- イメージ図
    ![](images/.jpg)

## 前提
Jenkins で アップデート対象にSSHログインできる設定を事前に完了します。
