---
title: Zabbix 3.0 - 日次で作成されるファイルを監視する
date: 2017-06-06
author: jinna-i
tags: [CentOS, その他]
---

こんにちは、じんないです。

監視系のソフトウェアはたくさんありますが、その中でもオープンソース(OSS)の統合監視ソフトウェアとして知られる[Zabbix](http://www.zabbix.com/jp/)。

Zabbixを使うとICMP Pingを使った死活監視はもちろんのこと、CPU・メモリなどのマシンパフォーマンスやOS上のサービス稼動監視、ネットワーク機器監視など挙げるときりがないくらいさまざまなものが監視できます。

**すべてを監視**とキャッチフレーズにしているくらいです。

オープンソースであることとその汎用性の高さから導入されている方も多いのではないでしょうか。

今回はそんなZabbixを使って、日次（毎日）で作成されるファイル（バックアップファイルなど）がちゃんと作成できているのかを監視してみます。


## 前提条件

本記事は以下のようにZabbixでの監視準備ができていることを前提としています。

* Zabbixサーバの構築が完了している。
* 監視対象のマシンにZabbixエージェントがインストールされている。
* 監視対象のマシンがZabbixサーバに登録済みである。
* Zabbixサーバのバージョンは3.0.1、エージェントのバージョンは3.0.7。
* OSはzabbixサーバ、監視対象マシンともにCentOS7。

## モデルケース



1. 監視対象マシンの ` /backup ` 領域に ` hogehoge-<日付：yyyymmdd>.bk `のようなファイルが毎日作成される。
2. Zabbixサーバより今日の日付けのファイルが作成されているかを監視する。
3. 作成されていなければメール通報する。

ファイルは毎日AM3:00に作成されるものとします。
また、メール通報に関する設定は割愛します。

## 監視設定
